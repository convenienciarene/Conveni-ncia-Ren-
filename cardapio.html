<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" type="image/png" href="imagens/logo.png">
<title>Card√°pio Online</title>

<style>
:root {
  --azul-principal: #2E3192;
  --amarelo-principal: #FFD200;
  --preto-fundo: #000000;
  --preto-suave: #2F2F2F;
  --branco: #FFFFFF;
}

body {
  font-family: Arial, sans-serif;
  background: var(--preto-fundo);
  color: var(--branco);
  margin: 0;
}

.header {
  text-align: center;
  padding: 20px;
  background: var(--preto-fundo);
}

.container {
  padding: 20px;
  max-width: 600px;
  margin: auto;
}

.section {
  margin-bottom: 24px;
}

.section h2 {
  color: var(--amarelo-principal);
  border-bottom: 2px solid var(--azul-principal);
  padding-bottom: 6px;
  margin-bottom: 12px;
}

.item {
  display: flex;
  align-items: center;
  gap: 10px;
  margin: 8px 0;
  background: var(--preto-suave);
  padding: 10px;
  border-radius: 10px;
}

.item span:first-of-type {
  color: var(--branco);
  font-weight: 500;
}

.item span:last-of-type {
  color: var(--amarelo-principal);
  font-weight: bold;
}

.item img {
  width: 50px;
  height: 50px;
  object-fit: cover;
  border-radius: 8px;
  border: 2px solid var(--amarelo-principal);
}

.footer {
  background: var(--preto-suave);
  padding: 10px;
  text-align: center;
  font-size: 14px;
}

.footer p {
  margin: 8px 0;
}

.footer a {
  color: var(--branco);
  text-decoration: none;
}

/* ===== FILTRO CENTRAL ===== */

.filtro-wrapper {
  position: relative;
  margin: 20px auto;
  width: fit-content;
}

/* Bot√£o hamburguer */
.filtro-toggle {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  border: 2px solid var(--azul-principal);
  background: var(--preto-suave);
  cursor: pointer;

  display: flex;
  align-items: center;
  justify-content: center;

  transition: all 0.3s ease;
}

/* Barras */
.filtro-toggle .bar {
  width: 26px;
  height: 3px;
  background: var(--amarelo-principal);
  margin: 4px 0;
  border-radius: 2px;
  transition: 0.3s;
}

/* Anima√ß√£o X */
.filtro-toggle.ativo .bar:nth-child(1) {
  transform: rotate(45deg) translate(5px, 5px);
}

.filtro-toggle.ativo .bar:nth-child(2) {
  opacity: 0;
}

.filtro-toggle.ativo .bar:nth-child(3) {
  transform: rotate(-45deg) translate(6px, -6px);
}


/* ===== DROPDOWN DESLIZANTE ===== */

.filtro-dropdown {
  position: absolute;
  top: 110%;
  left: 50%;
  transform: translate(-50%, -10px);
  
  background: var(--preto-suave);
  border-radius: 14px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.5);
  padding: 10px;

  opacity: 0;
  pointer-events: none;
  transition: all 0.3s ease;

  width: max-content;
  min-width: 160px;
  max-width: 90vw;

  z-index: 500;
}

.filtro-dropdown.ativo {
  opacity: 1;
  pointer-events: auto;
  transform: translate(-50%, 0);
}

.filtro-dropdown button {
  display: block;
  width: 100%;
  padding: 10px 18px;
  border: none;
  background: transparent;
  color: var(--branco);
  text-align: center;
  cursor: pointer;
  font-weight: 500;
  border-radius: 8px;
  white-space: nowrap;
}

.filtro-dropdown button:hover {
  background: var(--azul-principal);
}

.filtro-dropdown button.ativo {
  background: var(--amarelo-principal);
  color: #000;
  font-weight: bold;
}

</style>
</head>

<body>

<div class="header">
  <img 
    src="imagens/logo.png" 
    alt="Logo"
    style="max-width:160px;width:100%;height:auto;margin-top:10px;"
  >
</div>

<div class="container" id="menu"></div>

<div class="footer">

  <p>
    <a href="https://wa.me/5588999561169" target="_blank" style="
      display:inline-flex;
      align-items:center;
      gap:10px;
      background:var(--azul-principal);
      color:#fff;
      padding:8px 16px;
      border-radius:30px;
      text-decoration:none;
      font-weight:bold;
    ">
      <img 
        src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg"
        width="22"
        height="22"
      >
      WhatsApp
    </a>
  </p>

  <p>üìû (88) 9 9956-1169</p>

  <p style="display:flex;justify-content:center;">
  <a 
    href="https://www.instagram.com/reneposto"
    target="_blank"
    style="
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:8px 14px;
      border-radius:30px;
      background: linear-gradient(45deg, #F58529, #DD2A7B, #8134AF, #515BD4);
      color:#fff;
      text-decoration:none;
      font-weight:bold;
      box-shadow: 0 4px 10px rgba(0,0,0,0.4);
    "
  >
    <svg
  width="20"
  height="20"
  viewBox="0 0 24 24"
  xmlns="http://www.w3.org/2000/svg"
  aria-hidden="true"
  style="display:block"
>
  <!-- contorno arredondado -->
  <rect
    x="3"
    y="3"
    width="18"
    height="18"
    rx="5"
    ry="5"
    fill="none"
    stroke="white"
    stroke-width="1.6"
  />

  <!-- lente -->
  <circle
    cx="12"
    cy="12"
    r="4"
    fill="none"
    stroke="white"
    stroke-width="1.6"
  />

  <!-- flash -->
  <circle
    cx="17"
    cy="7"
    r="1"
    fill="white"
  />
</svg>



    @reneposto
  </a>
</p>


  <p style="display:flex;align-items:center;gap:6px;justify-content:center;">
    <a 
      href="https://maps.app.goo.gl/iGmrAAq7Rnzjg6pX8"
      target="_blank"
      style="color:#fff;text-decoration:none;display:flex;align-items:center;gap:6px;"
    >
      <svg 
        width="18" 
        height="18" 
        viewBox="0 0 512 512" 
        xmlns="http://www.w3.org/2000/svg"
        aria-hidden="true"
      >
        <path 
          fill="#EA4335"
          d="M256 0C156.6 0 76 80.6 76 180c0 33.3 9.6 66.1 27.7 94.6L256 512l152.3-237.4C426.4 246.1 436 213.3 436 180 436 80.6 355.4 0 256 0z"
        />
        <circle cx="256" cy="180" r="60" fill="#ffffff"/>
      </svg>
      Av. Jos√© Chagas Filho, 119
    </a>
  </p>

</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>

<script>
const url = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTv-nK7mhJiPnE7_m-d8khFDZMMk6ZLzPvzGA63B5r4kRG3HxPeQlaZ-AbN__z8Mde17xC6EWewbZCB/pub?output=csv";

const menu = document.getElementById("menu");

const filtroWrapper = document.createElement("div");
filtroWrapper.className = "filtro-wrapper";

const filtroToggle = document.createElement("button");
filtroToggle.className = "filtro-toggle";
filtroToggle.innerHTML = `
  <div style="display:flex;flex-direction:column;">
    <div class="bar"></div>
    <div class="bar"></div>
    <div class="bar"></div>
  </div>
`;

const filtroDropdown = document.createElement("div");
filtroDropdown.className = "filtro-dropdown";

filtroWrapper.appendChild(filtroToggle);
filtroWrapper.appendChild(filtroDropdown);
menu.before(filtroWrapper);

Papa.parse(url, {
  download: true,
  header: true,
  complete: function(result) {

    const dados = result.data;
    const categorias = {};

    dados.forEach(item => {
      if (!item.Categoria) return;
      if (!categorias[item.Categoria]) categorias[item.Categoria] = [];
      categorias[item.Categoria].push(item);
    });

    criarOpcao("Todos", true);

    Object.keys(categorias).forEach(cat => {
      criarOpcao(cat);
    });

    function criarOpcao(nome, ativo = false) {
      const btn = document.createElement("button");
      btn.textContent = nome;
      if (ativo) btn.classList.add("ativo");

      btn.addEventListener("click", () => {

        document.querySelectorAll(".filtro-dropdown button")
          .forEach(b => b.classList.remove("ativo"));

        btn.classList.add("ativo");

        renderMenu(nome === "Todos" ? null : nome);
        fecharDropdown();
      });

      filtroDropdown.appendChild(btn);
    }

    function renderMenu(filtroCategoria = null) {
      menu.innerHTML = "";

      for (const cat in categorias) {
        if (filtroCategoria && cat !== filtroCategoria) continue;

        const sec = document.createElement("div");
        sec.className = "section";
        sec.innerHTML = `<h2>${cat}</h2>`;

        categorias[cat].forEach(p => {
          sec.innerHTML += `
            <div class="item">
              ${p.Foto ? `
                <img src="imagens/produtos/${p.Foto}" alt="${p.Produto}">
              ` : ``}
              <span style="flex:1;">${p.Produto}</span>
              <span>R$ ${p.Pre√ßo}</span>
            </div>
          `;
        });

        menu.appendChild(sec);
      }
    }

    function abrirDropdown() {
      filtroDropdown.classList.add("ativo");
      filtroToggle.classList.add("ativo");
    }
    
    function fecharDropdown() {
      filtroDropdown.classList.remove("ativo");
      filtroToggle.classList.remove("ativo");
    }
    
    filtroToggle.addEventListener("click", (e) => {
      e.stopPropagation();
    
      if (filtroDropdown.classList.contains("ativo")) {
        fecharDropdown();
      } else {
        abrirDropdown();
      }
    });
    
    document.addEventListener("click", (e) => {
      if (!filtroWrapper.contains(e.target)) {
        fecharDropdown();
      }
    });



    document.addEventListener("click", (e) => {
      if (!filtroWrapper.contains(e.target)) {
        fecharDropdown();
      }
    });

    renderMenu();
  }
});

</script>

</body>
</html>
